<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>W.O.O.D. — Settings</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Boogaloo&family=Nunito:wght@400;600;700;800;900&family=Space+Mono:wght@400;700&family=Amatic+SC:wght@400;700&family=Caveat:wght@400;500;600;700&family=Rajdhani:wght@400;500;600;700&display=swap"
        rel="stylesheet">
    <style>
        *,
        *::before,
        *::after {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --bg-dark: #1a1512;
            --bg-mid: #231e1a;
            --bg-warm: #2e2620;
            --bg-overlay: rgba(12, 10, 8, 0.85);
            --paper: #d4b9a0;
            --paper-light: #e0cbb8;
            --paper-dark: #b89a7e;
            --paper-shadow: #8a7660;
            --red-dark: #5a1a1a;
            --red-mid: #8a2828;
            --red-bar: #a83030;
            --red-bright: #d44040;
            --green: #6aaa4a;
            --green-bright: #8acc6a;
            --green-glow: rgba(106, 170, 74, 0.25);
            --yellow: #d4a040;
            --yellow-bright: #e8b850;
            --yellow-glow: rgba(212, 160, 64, 0.2);
            --text-bright: #e8ddd0;
            --text-mid: #b8a898;
            --text-dim: #7a6a5a;
            --text-dark: #3a2e24;
            --font-display: 'Boogaloo', cursive;
            --font-handwritten: 'Amatic SC', cursive;
            --font-scrawl: 'Caveat', cursive;
            --font-body: 'Nunito', sans-serif;
            --font-mono: 'Space Mono', monospace;
            --font-ui: 'Rajdhani', sans-serif;
        }

        html,
        body {
            height: 100%;
            overflow: hidden;
        }

        body {
            background: #0a0908;
            font-family: var(--font-body);
            color: var(--text-bright);
        }

        /* ═══════════════════════════════════════════
           BACKGROUND
           ═══════════════════════════════════════════ */
        .settings-viewport {
            position: relative;
            width: 100vw;
            height: 100vh;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .settings-viewport .bg-img {
            position: absolute;
            inset: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            filter: brightness(0.35) contrast(1.1) saturate(0.7);
            transform: scale(1.05);
            animation: bgSlowDrift 30s ease-in-out infinite alternate;
        }

        @keyframes bgSlowDrift {
            0% {
                transform: scale(1.05) translate(0, 0);
            }

            100% {
                transform: scale(1.08) translate(-0.5%, -0.3%);
            }
        }

        /* Vignette */
        .settings-viewport::after {
            content: '';
            position: absolute;
            inset: 0;
            pointer-events: none;
            z-index: 1;
            background: radial-gradient(ellipse at 50% 50%, transparent 20%, rgba(0, 0, 0, 0.5) 60%, rgba(0, 0, 0, 0.85) 100%);
        }

        /* Paper grain */
        .settings-viewport::before {
            content: '';
            position: absolute;
            inset: 0;
            pointer-events: none;
            z-index: 2;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='256' height='256' filter='url(%23n)' opacity='0.04'/%3E%3C/svg%3E");
            background-size: 128px;
            opacity: 0.5;
            mix-blend-mode: overlay;
        }

        /* Scanlines */
        .scanlines {
            position: absolute;
            inset: 0;
            z-index: 3;
            pointer-events: none;
            background: repeating-linear-gradient(0deg, transparent, transparent 2px, rgba(0, 0, 0, 0.015) 2px, rgba(0, 0, 0, 0.015) 4px);
        }

        /* ═══════════════════════════════════════════
           SETTINGS PANEL
           ═══════════════════════════════════════════ */
        .settings-panel {
            position: relative;
            z-index: 5;
            width: 740px;
            max-height: 88vh;
            background: rgba(26, 21, 18, 0.65);
            border: 1px solid rgba(184, 154, 126, 0.2);
            backdrop-filter: blur(8px);
            border-radius: 4px;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.6), inset 0 0 40px rgba(0, 0, 0, 0.6);
            animation: panelIn 0.5s cubic-bezier(0.16, 1, 0.3, 1);
        }

        .settings-panel::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, transparent, rgba(212, 185, 160, 0.5), transparent);
            z-index: 20;
            pointer-events: none;
        }

        /* ── HEADER ── */
        .settings-header {
            padding: 20px 28px 16px;
            display: flex;
            align-items: center;
            gap: 14px;
            border-bottom: 2px solid rgba(180, 150, 120, 0.1);
            background:
                radial-gradient(ellipse at 50% 100%, rgba(212, 160, 64, 0.06) 0%, transparent 60%),
                linear-gradient(180deg, rgba(212, 160, 64, 0.03) 0%, transparent 100%);
            flex-shrink: 0;
            position: relative;
        }

        .settings-header::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 15%;
            right: 15%;
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(212, 160, 64, 0.15), transparent);
        }

        .header-icon {
            width: 28px;
            height: 28px;
            color: var(--paper-dark);
            filter: drop-shadow(0 2px 3px rgba(0, 0, 0, 0.4));
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .header-icon svg {
            width: 100%;
            height: 100%;
            fill: currentColor;
        }

        .header-title {
            font-family: var(--font-display);
            font-size: 34px;
            color: var(--paper);
            text-shadow: 0 2px 0 rgba(0, 0, 0, 0.5);
            line-height: 1;
        }

        .header-back {
            margin-left: auto;
            display: flex;
            align-items: center;
            gap: 6px;
            cursor: pointer;
            padding: 6px 14px;
            border: 1px solid rgba(180, 150, 120, 0.12);
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(4px);
            transition: all 0.2s;
        }

        .header-back:hover {
            border-color: var(--yellow);
            background: rgba(0, 0, 0, 0.7);
        }

        .header-back .key {
            font-family: var(--font-mono);
            font-size: 11px;
            font-weight: 800;
            color: var(--bg-dark);
            padding: 2px 6px;
            border: 1px solid rgba(0, 0, 0, 0.2);
            border-bottom: 2px solid rgba(0, 0, 0, 0.3);
            background: var(--yellow);
            text-shadow: 0 1px 0 rgba(255, 255, 255, 0.3);
            line-height: 1.3;
            border-radius: 3px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
            min-width: 20px;
            text-align: center;
        }

        .header-back .label {
            font-family: var(--font-ui);
            font-size: 12px;
            font-weight: 600;
            letter-spacing: 1px;
            text-transform: uppercase;
            color: var(--text-dim);
        }

        /* ── TABS ── */
        .settings-tabs {
            display: flex;
            border-bottom: 2px solid rgba(180, 150, 120, 0.08);
            flex-shrink: 0;
            background: rgba(0, 0, 0, 0.1);
        }

        .tab {
            flex: 1;
            padding: 12px 16px;
            text-align: center;
            cursor: pointer;
            font-family: var(--font-display);
            font-size: 18px;
            color: var(--text-dim);
            border-bottom: 3px solid transparent;
            transition: all 0.2s;
            position: relative;
        }

        .tab:hover {
            color: var(--text-mid);
            background: rgba(212, 160, 64, 0.03);
        }

        .tab.active {
            color: var(--paper);
            border-bottom-color: var(--yellow);
            background: rgba(212, 160, 64, 0.04);
        }

        .tab.active::after {
            content: '';
            position: absolute;
            bottom: -3px;
            left: 20%;
            right: 20%;
            height: 1px;
            background: var(--yellow);
            filter: blur(4px);
            opacity: 0.5;
        }

        /* ── SETTINGS BODY ── */
        .settings-body {
            flex: 1;
            overflow-y: auto;
            padding: 0;
            scrollbar-width: thin;
            scrollbar-color: rgba(180, 150, 120, 0.15) transparent;
        }

        .settings-body::-webkit-scrollbar {
            width: 4px;
        }

        .settings-body::-webkit-scrollbar-track {
            background: transparent;
        }

        .settings-body::-webkit-scrollbar-thumb {
            background: rgba(180, 150, 120, 0.2);
        }

        /* Tab content panels */
        .tab-content {
            display: none;
            animation: contentFadeIn 0.3s ease-out;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes contentFadeIn {
            from {
                opacity: 0;
                transform: translateY(6px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* ── SECTION GROUPS ── */
        .setting-group {
            padding: 20px 28px 8px;
        }

        .setting-group-title {
            font-family: var(--font-ui);
            font-size: 10px;
            font-weight: 700;
            letter-spacing: 3px;
            text-transform: uppercase;
            color: var(--text-dim);
            margin-bottom: 14px;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .setting-group-title::after {
            content: '';
            flex: 1;
            height: 1px;
            background: linear-gradient(90deg, rgba(180, 150, 120, 0.12), transparent);
        }

        /* ── INDIVIDUAL SETTING ROWS ── */
        .setting-row {
            display: flex;
            align-items: center;
            padding: 10px 12px;
            margin-bottom: 4px;
            border: 1px solid transparent;
            transition: all 0.15s;
            position: relative;
            z-index: 1;
        }

        .setting-row:has(.dropdown-control.open) {
            z-index: 50;
        }

        .setting-row:hover {
            background: rgba(212, 160, 64, 0.03);
            border-color: rgba(180, 150, 120, 0.06);
        }

        .setting-label {
            flex: 1;
            font-family: var(--font-body);
            font-size: 14px;
            font-weight: 700;
            color: var(--text-mid);
        }

        .setting-label .sub {
            display: block;
            font-size: 11px;
            font-weight: 600;
            color: var(--text-dim);
            margin-top: 1px;
        }

        /* ── SLIDER CONTROL ── */
        .slider-control {
            display: flex;
            align-items: center;
            gap: 12px;
            min-width: 240px;
        }

        .slider-track {
            flex: 1;
            height: 6px;
            background: rgba(0, 0, 0, 0.4);
            border: 1px solid rgba(180, 150, 120, 0.1);
            position: relative;
            cursor: pointer;
            -webkit-user-select: none;
            user-select: none;
        }

        .slider-track:hover {
            border-color: rgba(180, 150, 120, 0.25);
        }

        .slider-track:active .slider-thumb,
        .slider-thumb.dragging {
            background: var(--paper-light);
            box-shadow: 0 0 8px var(--yellow-glow), 0 2px 4px rgba(0, 0, 0, 0.4);
        }

        .slider-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--red-dark), var(--red-mid), var(--red-bar));
            position: relative;
            /* no transition — instant response for drag */
        }

        .slider-fill::after {
            content: '';
            position: absolute;
            inset: 0;
            background: repeating-linear-gradient(-45deg, transparent, transparent 2px, rgba(255, 255, 255, 0.04) 2px, rgba(255, 255, 255, 0.04) 4px);
        }

        .slider-fill.green {
            background: linear-gradient(90deg, #2a5a1a, var(--green), var(--green-bright));
        }

        .slider-thumb {
            position: absolute;
            right: -5px;
            top: 50%;
            transform: translateY(-50%);
            width: 10px;
            height: 16px;
            background: var(--paper);
            border: 1px solid var(--paper-dark);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.4);
            z-index: 2;
            cursor: grab;
        }

        .slider-value {
            font-family: var(--font-mono);
            font-size: 12px;
            color: var(--text-mid);
            min-width: 36px;
            text-align: right;
        }

        /* ── DROPDOWN CONTROL ── */
        .dropdown-control {
            position: relative;
            min-width: 200px;
            font-family: var(--font-ui);
            font-size: 14px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            user-select: none;
            cursor: pointer;
            z-index: 20;
        }

        .dropdown-selected {
            background: rgba(0, 0, 0, 0.4);
            border: 1px solid var(--paper-dark);
            color: var(--paper);
            padding: 8px 12px;
            border-radius: 3px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 15px;
            transition: all 0.2s;
        }

        .dropdown-selected:hover {
            border-color: var(--paper-light);
            background: rgba(0, 0, 0, 0.6);
        }

        .dropdown-arrow {
            font-size: 10px;
            transition: transform 0.2s;
        }

        .dropdown-control.open .dropdown-selected {
            border-bottom-left-radius: 0;
            border-bottom-right-radius: 0;
            border-color: var(--paper-light);
            background: rgba(0, 0, 0, 0.8);
        }

        .dropdown-control.open .dropdown-arrow {
            transform: rotate(180deg);
        }

        /* ── DROPDOWN MENU ── */
        .dropdown-menu {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: rgba(16, 13, 11, 0.95);
            border: 1px solid var(--paper-dark);
            border-top: none;
            border-bottom-left-radius: 3px;
            border-bottom-right-radius: 3px;
            display: none;
            flex-direction: column;
            backdrop-filter: blur(8px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.5);
            overflow: hidden;
            z-index: 100;
        }

        .dropdown-control.open .dropdown-menu {
            display: flex;
        }

        .dropdown-option {
            padding: 10px 12px;
            color: var(--text-dim);
            transition: all 0.2s;
            cursor: pointer;
        }

        .dropdown-option:hover {
            background: rgba(212, 185, 160, 0.1);
            color: var(--paper-light);
            padding-left: 16px;
        }

        .dropdown-option.selected {
            color: var(--paper);
            background: rgba(212, 160, 64, 0.15);
            border-left: 2px solid var(--yellow);
        }

        /* ── TOGGLE CONTROL ── */
        .toggle-control {
            width: 48px;
            height: 24px;
            background: rgba(0, 0, 0, 0.4);
            border: 2px solid rgba(180, 150, 120, 0.15);
            cursor: pointer;
            position: relative;
            transition: all 0.25s;
        }

        .toggle-control.on {
            border-color: rgba(106, 170, 74, 0.4);
            background: rgba(106, 170, 74, 0.1);
        }

        .toggle-knob {
            position: absolute;
            top: 2px;
            left: 2px;
            width: 16px;
            height: 16px;
            background: var(--text-dim);
            transition: all 0.25s cubic-bezier(0.16, 1, 0.3, 1);
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.4);
        }

        .toggle-control.on .toggle-knob {
            left: 26px;
            background: var(--green-bright);
            box-shadow: 0 0 8px var(--green-glow);
        }

        /* ── KEYBIND CONTROL ── */
        .keybind-control {
            display: flex;
            gap: 6px;
        }

        .keybind-key {
            font-family: var(--font-mono);
            font-size: 12px;
            font-weight: 800;
            color: var(--bg-dark);
            padding: 4px 10px;
            border: 1px solid rgba(0, 0, 0, 0.2);
            border-bottom: 2px solid rgba(0, 0, 0, 0.3);
            background: var(--yellow);
            cursor: pointer;
            transition: all 0.15s;
            min-width: 36px;
            text-align: center;
            border-radius: 3px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
            text-shadow: 0 1px 0 rgba(255, 255, 255, 0.3);
        }

        .keybind-key:hover {
            transform: translateY(1px);
            background: var(--yellow-bright);
            box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
            border-bottom-width: 1px;
        }

        /* ── FOOTER ── */
        .settings-footer {
            padding: 14px 28px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            border-top: 2px solid rgba(180, 150, 120, 0.08);
            flex-shrink: 0;
            background: rgba(0, 0, 0, 0.08);
        }

        .footer-hint {
            font-family: var(--font-scrawl);
            font-size: 16px;
            color: var(--text-dim);
            opacity: 0.4;
        }

        .footer-actions {
            display: flex;
            gap: 10px;
        }

        .btn {
            font-family: var(--font-display);
            font-size: 26px;
            color: var(--paper-dark);
            background: transparent;
            border: none;
            cursor: pointer;
            padding: 8px 24px;
            position: relative;
            transition: all 0.2s;
            line-height: 1;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .btn::before {
            content: '';
            position: absolute;
            left: 0;
            top: 50%;
            transform: translateY(-50%);
            width: 0;
            height: 60%;
            background: var(--paper);
            transition: all 0.25s cubic-bezier(0.16, 1, 0.3, 1);
        }

        .btn:hover {
            color: var(--paper);
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5), 0 0 20px rgba(212, 160, 64, 0.08);
            padding-left: 30px;
        }

        .btn:hover::before {
            width: 3px;
        }

        .btn-primary {
            color: var(--paper);
        }

        .btn-primary:hover {
            color: var(--paper-light);
            text-shadow: 0 0 20px rgba(212, 160, 64, 0.2);
        }

        .btn-primary::before {
            background: var(--green);
        }

        .btn-secondary {
            color: var(--text-dim);
        }

        .btn-secondary:hover {
            color: var(--paper-dark);
        }

        /* ── DIVIDER ── */
        .setting-divider {
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(180, 150, 120, 0.08), transparent);
            margin: 8px 28px;
        }

        /* ═══════════════════════════════════════════
           ANIMATIONS
           ═══════════════════════════════════════════ */
        @keyframes fadeIn {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }

        /* ═══════════════════════════════════════════
           RESPONSIVE
           ═══════════════════════════════════════════ */
        @media (max-width: 800px) {
            .settings-panel {
                width: 95vw;
                max-height: 95vh;
            }

            .slider-control {
                min-width: 160px;
            }

            .dropdown-control {
                min-width: 140px;
            }

            .tab {
                font-size: 15px;
                padding: 10px 8px;
            }
        }
    </style>
</head>

<body>

    <div class="settings-viewport">
        <!-- Background -->
        <img src="background10.png" alt="" class="bg-img">
        <div class="scanlines"></div>

        <!-- Settings Panel -->
        <div class="settings-panel">

            <!-- Header -->
            <div class="settings-header">
                <div class="header-icon">
                    <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M12 15.5C13.933 15.5 15.5 13.933 15.5 12C15.5 10.067 13.933 8.5 12 8.5C10.067 8.5 8.5 10.067 8.5 12C8.5 13.933 10.067 15.5 12 15.5Z" />
                        <path
                            d="M19.43 12.98C19.47 12.66 19.5 12.34 19.5 12C19.5 11.66 19.47 11.34 19.43 11.02L21.54 9.37C21.73 9.22 21.78 8.95 21.66 8.73L19.66 5.27C19.54 5.05 19.27 4.97 19.05 5.05L16.56 6.05C16.04 5.65 15.48 5.32 14.87 5.07L14.49 2.42C14.46 2.18 14.25 2 14 2H10C9.75 2 9.54 2.18 9.51 2.42L9.13 5.07C8.52 5.32 7.96 5.66 7.44 6.05L4.95 5.05C4.73 4.97 4.46 5.05 4.34 5.27L2.34 8.73C2.21 8.95 2.27 9.22 2.46 9.37L4.57 11.02C4.53 11.34 4.5 11.67 4.5 12C4.5 12.33 4.53 11.66 4.57 12.98L2.46 14.63C2.27 14.78 2.22 15.05 2.34 15.27L4.34 18.73C4.46 18.95 4.73 19.03 4.95 18.95L7.44 17.95C7.96 18.35 8.52 18.68 9.13 18.93L9.51 21.58C9.54 21.82 9.75 22 10 22H14C14.25 22 14.46 21.82 14.49 21.58L14.87 18.93C15.48 18.68 16.04 18.34 16.56 17.95L19.05 18.95C19.27 19.03 19.54 18.95 19.66 18.73L21.66 15.27C21.78 15.05 21.73 14.78 21.54 14.63L19.43 12.98Z" />
                    </svg>
                </div>
                <h1 class="header-title">Settings</h1>
                <div class="header-back" onclick="window.location.href='main-menu.html'">
                    <span class="key">Esc</span>
                    <span class="label">Back</span>
                </div>
            </div>

            <!-- Tabs -->
            <div class="settings-tabs">
                <div class="tab active" data-tab="audio">Audio</div>
                <div class="tab" data-tab="display">Display</div>
                <div class="tab" data-tab="controls">Controls</div>
                <div class="tab" data-tab="gameplay">Gameplay</div>
            </div>

            <!-- Body -->
            <div class="settings-body">

                <!-- ═══ AUDIO TAB ═══ -->
                <div class="tab-content active" id="tab-audio">
                    <div class="setting-group">
                        <div class="setting-group-title">Volume Levels</div>

                        <div class="setting-row">
                            <div class="setting-label">Master Volume</div>
                            <div class="slider-control">
                                <div class="slider-track">
                                    <div class="slider-fill" style="width: 75%;">
                                        <div class="slider-thumb"></div>
                                    </div>
                                </div>
                                <span class="slider-value">75</span>
                            </div>
                        </div>

                        <div class="setting-row">
                            <div class="setting-label">Music</div>
                            <div class="slider-control">
                                <div class="slider-track">
                                    <div class="slider-fill" style="width: 60%;">
                                        <div class="slider-thumb"></div>
                                    </div>
                                </div>
                                <span class="slider-value">60</span>
                            </div>
                        </div>

                        <div class="setting-row">
                            <div class="setting-label">Sound Effects</div>
                            <div class="slider-control">
                                <div class="slider-track">
                                    <div class="slider-fill" style="width: 85%;">
                                        <div class="slider-thumb"></div>
                                    </div>
                                </div>
                                <span class="slider-value">85</span>
                            </div>
                        </div>

                        <div class="setting-row">
                            <div class="setting-label">
                                Ambient
                                <span class="sub">Background noise & atmosphere</span>
                            </div>
                            <div class="slider-control">
                                <div class="slider-track">
                                    <div class="slider-fill" style="width: 70%;">
                                        <div class="slider-thumb"></div>
                                    </div>
                                </div>
                                <span class="slider-value">70</span>
                            </div>
                        </div>
                    </div>

                    <div class="setting-divider"></div>

                    <div class="setting-group">
                        <div class="setting-group-title">Voice</div>

                        <div class="setting-row">
                            <div class="setting-label">
                                Voice Chat
                                <span class="sub">Push-to-talk or open mic</span>
                            </div>
                            <div class="dropdown-control" data-options='["Push to Talk", "Open Mic", "Disabled"]'>
                                <div class="dropdown-selected">
                                    <span class="dropdown-text">Push to Talk</span>
                                    <span class="dropdown-arrow">▼</span>
                                </div>
                                <div class="dropdown-menu"></div>
                            </div>
                        </div>

                        <div class="setting-row">
                            <div class="setting-label">Mic Volume</div>
                            <div class="slider-control">
                                <div class="slider-track">
                                    <div class="slider-fill green" style="width: 65%;">
                                        <div class="slider-thumb"></div>
                                    </div>
                                </div>
                                <span class="slider-value">65</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ═══ DISPLAY TAB ═══ -->
                <div class="tab-content" id="tab-display">
                    <div class="setting-group">
                        <div class="setting-group-title">Resolution & Window</div>

                        <div class="setting-row">
                            <div class="setting-label">Resolution</div>
                            <div class="dropdown-control"
                                data-options='["2560 × 1440", "1920 × 1080", "1600 × 900", "1366 × 768", "1280 × 720"]'>
                                <div class="dropdown-selected">
                                    <span class="dropdown-text">1920 × 1080</span>
                                    <span class="dropdown-arrow">▼</span>
                                </div>
                                <div class="dropdown-menu"></div>
                            </div>
                        </div>

                        <div class="setting-row">
                            <div class="setting-label">Window Mode</div>
                            <div class="dropdown-control" data-options='["Fullscreen", "Windowed", "Borderless"]'>
                                <div class="dropdown-selected">
                                    <span class="dropdown-text">Fullscreen</span>
                                    <span class="dropdown-arrow">▼</span>
                                </div>
                                <div class="dropdown-menu"></div>
                            </div>
                        </div>

                        <div class="setting-row">
                            <div class="setting-label">VSync</div>
                            <div class="toggle-control on" onclick="this.classList.toggle('on')">
                                <div class="toggle-knob"></div>
                            </div>
                        </div>

                        <div class="setting-row">
                            <div class="setting-label">Max FPS</div>
                            <div class="dropdown-control" data-options='["30", "60", "120", "144", "240", "Unlimited"]'>
                                <div class="dropdown-selected">
                                    <span class="dropdown-text">Unlimited</span>
                                    <span class="dropdown-arrow">▼</span>
                                </div>
                                <div class="dropdown-menu"></div>
                            </div>
                        </div>
                    </div>

                    <div class="setting-divider"></div>

                    <div class="setting-group">
                        <div class="setting-group-title">Visual Quality</div>

                        <div class="setting-row">
                            <div class="setting-label">
                                Brightness
                                <span class="sub">Adjust until the symbol is barely visible</span>
                            </div>
                            <div class="slider-control">
                                <div class="slider-track">
                                    <div class="slider-fill" style="width: 50%;">
                                        <div class="slider-thumb"></div>
                                    </div>
                                </div>
                                <span class="slider-value">50</span>
                            </div>
                        </div>

                        <div class="setting-row">
                            <div class="setting-label">Quality Preset</div>
                            <div class="dropdown-control" data-options='["Low", "Medium", "High", "Ultra"]'>
                                <div class="dropdown-selected">
                                    <span class="dropdown-text">High</span>
                                    <span class="dropdown-arrow">▼</span>
                                </div>
                                <div class="dropdown-menu"></div>
                            </div>
                        </div>

                        <div class="setting-row">
                            <div class="setting-label">
                                Camera Grain
                                <span class="sub">CCTV static noise intensity</span>
                            </div>
                            <div class="slider-control">
                                <div class="slider-track">
                                    <div class="slider-fill" style="width: 40%;">
                                        <div class="slider-thumb"></div>
                                    </div>
                                </div>
                                <span class="slider-value">40</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ═══ CONTROLS TAB ═══ -->
                <div class="tab-content" id="tab-controls">
                    <div class="setting-group">
                        <div class="setting-group-title">Mouse</div>

                        <div class="setting-row">
                            <div class="setting-label">Mouse Sensitivity</div>
                            <div class="slider-control">
                                <div class="slider-track">
                                    <div class="slider-fill" style="width: 45%;">
                                        <div class="slider-thumb"></div>
                                    </div>
                                </div>
                                <span class="slider-value">45</span>
                            </div>
                        </div>

                        <div class="setting-row">
                            <div class="setting-label">Invert Y-Axis</div>
                            <div class="toggle-control" onclick="this.classList.toggle('on')">
                                <div class="toggle-knob"></div>
                            </div>
                        </div>
                    </div>

                    <div class="setting-divider"></div>

                    <div class="setting-group">
                        <div class="setting-group-title">Key Bindings</div>

                        <div class="setting-row">
                            <div class="setting-label">Move Forward</div>
                            <div class="keybind-control">
                                <div class="keybind-key">W</div>
                            </div>
                        </div>

                        <div class="setting-row">
                            <div class="setting-label">Move Left</div>
                            <div class="keybind-control">
                                <div class="keybind-key">A</div>
                            </div>
                        </div>

                        <div class="setting-row">
                            <div class="setting-label">Move Back</div>
                            <div class="keybind-control">
                                <div class="keybind-key">S</div>
                            </div>
                        </div>

                        <div class="setting-row">
                            <div class="setting-label">Move Right</div>
                            <div class="keybind-control">
                                <div class="keybind-key">D</div>
                            </div>
                        </div>

                        <div class="setting-row">
                            <div class="setting-label">Interact</div>
                            <div class="keybind-control">
                                <div class="keybind-key">E</div>
                            </div>
                        </div>

                        <div class="setting-row">
                            <div class="setting-label">Use Tool</div>
                            <div class="keybind-control">
                                <div class="keybind-key">LMB</div>
                            </div>
                        </div>

                        <div class="setting-row">
                            <div class="setting-label">Drop / Throw</div>
                            <div class="keybind-control">
                                <div class="keybind-key">Q</div>
                            </div>
                        </div>

                        <div class="setting-row">
                            <div class="setting-label">Toggle Cameras</div>
                            <div class="keybind-control">
                                <div class="keybind-key">Tab</div>
                            </div>
                        </div>

                        <div class="setting-row">
                            <div class="setting-label">Push to Talk</div>
                            <div class="keybind-control">
                                <div class="keybind-key">V</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ═══ GAMEPLAY TAB ═══ -->
                <div class="tab-content" id="tab-gameplay">
                    <div class="setting-group">
                        <div class="setting-group-title">Accessibility</div>

                        <div class="setting-row">
                            <div class="setting-label">Language</div>
                            <div class="dropdown-control"
                                data-options='["English", "Deutsch", "Français", "Español", "Italiano", "日本語", "한국어", "Polski"]'>
                                <div class="dropdown-selected">
                                    <span class="dropdown-text">English</span>
                                    <span class="dropdown-arrow">▼</span>
                                </div>
                                <div class="dropdown-menu"></div>
                            </div>
                        </div>

                        <div class="setting-row">
                            <div class="setting-label">Subtitles</div>
                            <div class="toggle-control on" onclick="this.classList.toggle('on')">
                                <div class="toggle-knob"></div>
                            </div>
                        </div>

                        <div class="setting-row">
                            <div class="setting-label">
                                Subtitle Size
                                <span class="sub">Readable vs. minimal</span>
                            </div>
                            <div class="dropdown-control" data-options='["Small", "Medium", "Large"]'>
                                <div class="dropdown-selected">
                                    <span class="dropdown-text">Medium</span>
                                    <span class="dropdown-arrow">▼</span>
                                </div>
                                <div class="dropdown-menu"></div>
                            </div>
                        </div>
                    </div>

                    <div class="setting-divider"></div>

                    <div class="setting-group">
                        <div class="setting-group-title">Gameplay</div>

                        <div class="setting-row">
                            <div class="setting-label">
                                Tutorial Hints
                                <span class="sub">Show in-game guidance popups</span>
                            </div>
                            <div class="toggle-control on" onclick="this.classList.toggle('on')">
                                <div class="toggle-knob"></div>
                            </div>
                        </div>

                        <div class="setting-row">
                            <div class="setting-label">
                                Head Bob
                                <span class="sub">Camera sway while walking</span>
                            </div>
                            <div class="slider-control">
                                <div class="slider-track">
                                    <div class="slider-fill" style="width: 50%;">
                                        <div class="slider-thumb"></div>
                                    </div>
                                </div>
                                <span class="slider-value">50</span>
                            </div>
                        </div>

                        <div class="setting-row">
                            <div class="setting-label">
                                Field of View
                            </div>
                            <div class="slider-control">
                                <div class="slider-track">
                                    <div class="slider-fill" style="width: 70%;">
                                        <div class="slider-thumb"></div>
                                    </div>
                                </div>
                                <span class="slider-value">90</span>
                            </div>
                        </div>
                    </div>
                </div>

            </div>

            <!-- Footer -->
            <div class="settings-footer">
                <span class="footer-hint">Changes are saved automatically</span>
                <div class="footer-actions">
                    <button class="btn btn-secondary" onclick="window.location.href='main-menu.html'">Defaults</button>
                    <button class="btn btn-primary" onclick="window.location.href='main-menu.html'">Apply &
                        Back</button>
                </div>
            </div>

        </div>
    </div>

    <!-- Continuous Music Logic -->
    <audio id="bgMusic" loop></audio>
    <audio id="uiClick" src="../audio/uiclick.mp3"></audio>

    <script>
        // ══════════════════════════════════════════
        //  CONTINUOUS MUSIC LOGIC
        // ══════════════════════════════════════════
        const bgMusic = document.getElementById('bgMusic');
        bgMusic.volume = 0.10;
        const storedMusic = sessionStorage.getItem('bgMusicSrc');
        let storedTime = sessionStorage.getItem('bgMusicTime');

        // Check if page was reloaded
        const navEntries = performance.getEntriesByType("navigation");
        if (navEntries.length > 0 && navEntries[0].type === "reload") {
            storedTime = null; // start music over
        }

        if (storedMusic) {
            bgMusic.src = storedMusic;
            if (storedTime) {
                bgMusic.currentTime = parseFloat(storedTime);
            }
            const tryPlay = () => {
                const playPromise = bgMusic.play();
                if (playPromise !== undefined) {
                    playPromise.catch(() => {
                        const startAudio = () => { bgMusic.play(); document.removeEventListener('click', startAudio); };
                        document.addEventListener('click', startAudio);
                    });
                }
            };
            tryPlay();
        }

        window.addEventListener('beforeunload', () => {
            if (bgMusic.src) {
                sessionStorage.setItem('bgMusicTime', bgMusic.currentTime);
                sessionStorage.setItem('bgMusicSrc', bgMusic.src);
            }
        });

        // ══════════════════════════════════════════
        //  UI SOUND LOGIC
        // ══════════════════════════════════════════
        const uiClick = document.getElementById('uiClick');
        if (uiClick) uiClick.volume = 0.4;
        function playClick() {
            if (!uiClick) return;
            uiClick.currentTime = 0;
            uiClick.play().catch(() => { });
        }

        // Attach playClick to various interactive elements
        document.querySelectorAll('.tab, .btn, .slider-track, .dropdown-control, .toggle-control, .keybind-key').forEach(el => {
            el.addEventListener('mousedown', playClick);
        });

        // ══════════════════════════════════════════
        //  TAB SWITCHING
        // ══════════════════════════════════════════
        const tabs = document.querySelectorAll('.tab');
        const contents = document.querySelectorAll('.tab-content');

        tabs.forEach(tab => {
            tab.addEventListener('click', () => {
                const target = tab.dataset.tab;
                tabs.forEach(t => t.classList.remove('active'));
                tab.classList.add('active');
                contents.forEach(c => {
                    c.classList.remove('active');
                    if (c.id === 'tab-' + target) c.classList.add('active');
                });
            });
        });

        // ══════════════════════════════════════════
        //  INTERACTIVE SLIDERS
        // ══════════════════════════════════════════
        document.querySelectorAll('.slider-track').forEach(track => {
            const fill = track.querySelector('.slider-fill');
            const thumb = track.querySelector('.slider-thumb');
            const valueEl = track.closest('.slider-control').querySelector('.slider-value');

            // Map for special value displays (e.g., FOV shows 60-120)
            const label = track.closest('.setting-row')?.querySelector('.setting-label')?.textContent.trim();
            const isFOV = label && label.startsWith('Field of View');

            function setSlider(pct) {
                pct = Math.max(0, Math.min(100, pct));
                fill.style.width = pct + '%';
                if (isFOV) {
                    valueEl.textContent = Math.round(60 + (pct / 100) * 60);
                } else {
                    valueEl.textContent = Math.round(pct);
                }
            }

            function handlePointer(e) {
                const rect = track.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const pct = (x / rect.width) * 100;
                setSlider(pct);
            }

            // Click on track
            track.addEventListener('mousedown', (e) => {
                e.preventDefault();
                handlePointer(e);
                thumb.classList.add('dragging');

                const onMove = (ev) => handlePointer(ev);
                const onUp = () => {
                    thumb.classList.remove('dragging');
                    document.removeEventListener('mousemove', onMove);
                    document.removeEventListener('mouseup', onUp);
                };

                document.addEventListener('mousemove', onMove);
                document.addEventListener('mouseup', onUp);
            });
        });

        // ══════════════════════════════════════════
        //  INTERACTIVE DROPDOWNS
        // ══════════════════════════════════════════
        document.querySelectorAll('.dropdown-control').forEach(dropdown => {
            const selected = dropdown.querySelector('.dropdown-selected');
            const textEl = dropdown.querySelector('.dropdown-text');
            const menu = dropdown.querySelector('.dropdown-menu');
            const optionsData = JSON.parse(dropdown.dataset.options || '[]');

            // Build option elements
            optionsData.forEach(opt => {
                const el = document.createElement('div');
                el.className = 'dropdown-option';
                if (opt === textEl.textContent.trim()) el.classList.add('selected');
                el.textContent = opt;
                el.addEventListener('click', (e) => {
                    e.stopPropagation();
                    textEl.textContent = opt;
                    menu.querySelectorAll('.dropdown-option').forEach(o => o.classList.remove('selected'));
                    el.classList.add('selected');
                    dropdown.classList.remove('open');
                });
                menu.appendChild(el);
            });

            // Toggle open/close
            selected.addEventListener('click', (e) => {
                e.stopPropagation();
                // Close all other dropdowns first
                document.querySelectorAll('.dropdown-control.open').forEach(d => {
                    if (d !== dropdown) d.classList.remove('open');
                });
                dropdown.classList.toggle('open');
            });
        });

        // Close dropdowns when clicking outside
        document.addEventListener('click', () => {
            document.querySelectorAll('.dropdown-control.open').forEach(d => d.classList.remove('open'));
        });

        // ══════════════════════════════════════════
        //  KEYBOARD: Esc to go back
        // ══════════════════════════════════════════
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                // Close dropdown first if one is open
                const openDD = document.querySelector('.dropdown-control.open');
                if (openDD) {
                    openDD.classList.remove('open');
                    return;
                }
                window.location.href = 'main-menu.html';
            }
        });
    </script>

</body>

</html>